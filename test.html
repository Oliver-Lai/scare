<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>測試 - 深夜孤宅</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: #fff;
            margin: 0;
            padding: 20px;
        }
        .clickable {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .clickable:hover {
            filter: brightness(1.2);
        }
        #result {
            margin-top: 20px;
            padding: 10px;
            background: #333;
            border-radius: 5px;
            min-height: 50px;
        }
        .btn {
            background: #444;
            color: #fff;
            border: 2px solid #666;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
        }
        .btn:hover {
            background: #555;
        }
    </style>
</head>
<body>
    <h1>點擊測試</h1>
    
    <button class="btn" onclick="startTest()">開始測試</button>
    
    <div>
        <h3>客廳場景（簡化版）</h3>
        <svg width="400" height="300" style="border: 1px solid #666;">
            <!-- 沙發 -->
            <rect x="50" y="150" width="100" height="40" fill="#444" class="clickable" data-item="sofa" onclick="handleClick('sofa')"/>
            
            <!-- 電視 -->
            <rect x="200" y="100" width="80" height="60" fill="#000" class="clickable" data-item="tv" onclick="handleClick('tv')"/>
            
            <!-- 書架 -->
            <rect x="20" y="50" width="40" height="100" fill="#8b4513" class="clickable" data-item="bookshelf" onclick="handleClick('bookshelf')"/>
        </svg>
    </div>
    
    <div id="result">點擊 SVG 中的物品來測試...</div>

    <script>
        let gameStarted = false;
        
        function startTest() {
            gameStarted = true;
            document.getElementById('result').innerHTML = '遊戲已開始！現在可以點擊物品了。';
        }
        
        function handleClick(itemType) {
            const resultDiv = document.getElementById('result');
            
            if (!gameStarted) {
                resultDiv.innerHTML = '請先點擊「開始測試」按鈕！';
                return;
            }
            
            switch(itemType) {
                case 'sofa':
                    resultDiv.innerHTML = '你點擊了沙發！這是一張老舊的沙發。';
                    break;
                case 'tv':
                    resultDiv.innerHTML = '你點擊了電視！螢幕上顯示著雜訊。';
                    break;
                case 'bookshelf':
                    resultDiv.innerHTML = '你點擊了書架！你找到了一本神秘的書。';
                    break;
                default:
                    resultDiv.innerHTML = '未知的物品：' + itemType;
            }
        }
        
        // 也試試事件委託的方式
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('clickable')) {
                const itemType = e.target.getAttribute('data-item');
                if (itemType) {
                    console.log('通過事件委託檢測到點擊:', itemType);
                }
            }
        });
        
        console.log('測試頁面載入完成');
    </script>
</body>
</html>
